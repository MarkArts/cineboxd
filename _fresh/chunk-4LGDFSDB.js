import{a as e}from"./chunk-RPWRD7AT.js";import{a as p}from"./chunk-4CGUAWBV.js";function g(i){return new Date(i).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1})}function f(i){if(!i)return"";let l=Math.floor(i/60),d=i%60;return`${l}h ${d}m`}function x({film:i,showsByDateAndTheater:l}){let d=l.sort((r,t)=>{let o=r[1].date,s=t[1].date;return o!==s?o.localeCompare(s):r[1].theater.name.localeCompare(t[1].theater.name)}),a=new Map;d.forEach(([r,t])=>{let o=t.date;a.has(o)||a.set(o,new Map),a.get(o).set(t.theater.name,t)});let[n,c]=p(a.size>0?Array.from(a.keys())[0]:"");return e("article",{style:{backgroundColor:"#1e293b",borderRadius:"8px",border:"1px solid #2f3336",overflow:"hidden",padding:"16px"},children:e("div",{class:"movie-card-layout",style:{display:"flex",gap:"16px"},children:[e("div",{class:"movie-poster",style:{width:"200px",height:"300px",flexShrink:0,backgroundColor:"#2f3336",borderRadius:"4px",overflow:"hidden"},children:i.poster?.url?e("img",{src:i.poster.url,alt:i.title,style:{width:"100%",height:"100%",objectFit:"cover"}}):e("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",color:"#71767b",textAlign:"center",padding:"8px"},children:i.title.substring(0,20)})}),e("div",{class:"movie-content",style:{flex:1,display:"flex",flexDirection:"column",minHeight:"300px"},children:[e("div",{children:[e("h3",{style:{margin:"0 0 8px 0",fontSize:"20px",fontWeight:"bold",color:"#e1e8ed"},children:i.title}),e("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px",marginBottom:"12px",fontSize:"14px",color:"#71767b"},children:[i.directors.length>0&&e("span",{children:["Directed by ",i.directors.join(", ")]}),i.duration>0&&e("span",{children:f(i.duration)})]}),e("div",{class:"date-list",style:{display:"flex",gap:"8px",overflowX:"auto",paddingBottom:"12px",marginBottom:"12px",borderBottom:"1px solid #2f3336"},children:Array.from(a.keys()).map(r=>{let t=new Date(r+"T00:00:00").toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),o=r===n;return e("button",{type:"button",onClick:()=>c(r),style:{padding:"6px 12px",backgroundColor:o?"#3b82f6":"#0f1419",color:o?"white":"#e1e8ed",border:`1px solid ${o?"#3b82f6":"#2f3336"}`,borderRadius:"4px",fontSize:"13px",cursor:"pointer",whiteSpace:"nowrap",transition:"all 0.2s"},children:t},r)})})]}),n&&a.get(n)&&e("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"220px",overflowY:"auto"},children:Array.from(a.get(n).values()).sort((r,t)=>r.theater.name.localeCompare(t.theater.name)).map(r=>e("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start",padding:"8px",backgroundColor:"#0f1419",borderRadius:"6px"},children:e("div",{style:{flex:1},children:[e("div",{style:{fontSize:"14px",fontWeight:"600",color:"#e1e8ed",marginBottom:"4px"},children:[r.theater.name,r.theater.address?.city&&e("span",{style:{fontSize:"12px",color:"#71767b",fontWeight:"normal",marginLeft:"8px"},children:["\u2022 ",r.theater.address.city]})]}),e("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:r.shows.sort((t,o)=>new Date(t.startDate).getTime()-new Date(o.startDate).getTime()).map(t=>{let s=t.chain==="pathe"?"#f59e0b":"#3b82f6";return e("a",{href:t.ticketingUrl||"#",target:t.ticketingUrl?"_blank":"_self",rel:"noopener noreferrer",style:{padding:"4px 10px",backgroundColor:s,color:"white",textDecoration:"none",borderRadius:"4px",fontSize:"13px",fontWeight:"500",cursor:t.ticketingUrl?"pointer":"default",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"4px"},children:g(t.startDate)},t.id)})})]})},r.theater.name))})]})]})})}export{x as a};
